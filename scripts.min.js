"use strict";if(!lotActive){document.querySelector("#title").innerHTML="Sorteo no disponible",document.querySelector("#headline").innerHTML="En el momento no hay sorteo activo, pero puedes seguirnos en nuestras redes sociales para más contenido y conocer los nuevos sorteos.",document.querySelector("#form").remove(),document.querySelector("#disclaimer").remove();const a=document.createElement("div");a.classList.add("mt-4"),a.innerHTML='<a href="https://followlink.co/@hablemosdecodigo" class="btn btn-dark" target="_blank" rel="noopenner">Síguenos en redes</a>',document.querySelector(".col-form").append(a),document.querySelector("#img").setAttribute("src","img/lot-unavailable.jpeg")}const button=document.querySelector("#register");button.addEventListener("click",function(){const r=document.querySelector("#email"),t=document.querySelector(".top-bar");var e={lot:1,email:r.value};""!==r.value&&-1<r.value.indexOf("@")?(button.innerHTML="Inscribiendo...",r.classList.remove("error"),t.classList.contains("success")?t.classList.remove("success","show"):t.classList.contains("error")?t.classList.remove("error","show"):t.classList.contains("warning")&&t.classList.remove("warning","show"),fetch("https://sorteos.hablemosdecodigo.com/api.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{switch(e.status){case"success":document.querySelector("#msg").innerHTML="Te has registrado satisfactoriamente. Gracias por participar.",t.classList.add("success","show"),r.setAttribute("disabled",!0),button.setAttribute("disabled",!0),button.innerHTML="Inscrito";break;case"error":document.querySelector("#msg").innerHTML="Ha ocurrido un error con tu inscripción, por favor inténtalo nuevamente.",t.classList.add("error","show"),button.innerHTML="Inscribirme";break;case"registered":document.querySelector("#msg").innerHTML="Ya te has registrado anteriormente. Gracias por participar.",t.classList.add("error","show"),r.setAttribute("disabled",!0),button.setAttribute("disabled",!0),button.innerHTML="Inscrito";break;case"invalid":document.querySelector("#msg").innerHTML="Revisa que el correo ingresado sea válido e intentalo de nuevo.",t.classList.add("warning","show"),button.innerHTML="Inscribirme"}}).catch(()=>{document.querySelector("#msg").innerHTML="Ha ocurrido un error registrando tu inscripción, por favor intentalo nuevamente.",t.classList.add("error","show"),button.innerHTML="Inscribirme"})):r.classList.add("error")});