"use strict";const button=document.querySelector("#register");button.addEventListener("click",function(){const r=document.querySelector("#email"),s=document.querySelector(".top-bar");var e={lot:1,email:r.value};""!==r.value&&-1<r.value.indexOf("@")?(button.innerHTML="Inscribiendo...",r.classList.remove("error"),s.classList.contains("success")?s.classList.remove("success","show"):s.classList.contains("error")?s.classList.remove("error","show"):s.classList.contains("warning")&&s.classList.remove("warning","show"),fetch("https://sorteos.hablemosdecodigo.com/api.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.json()).then(e=>{switch(e.status){case"success":document.querySelector("#msg").innerHTML="Te has registrado satisfactoriamente. Gracias por participar.",s.classList.add("success","show"),r.setAttribute("disabled",!0),button.setAttribute("disabled",!0),button.innerHTML="Inscrito";break;case"error":document.querySelector("#msg").innerHTML="Ha ocurrido un error con tu inscripción, por favor inténtalo nuevamente.",s.classList.add("error","show"),button.innerHTML="Inscribirme";break;case"registered":document.querySelector("#msg").innerHTML="Ya te has registrado anteriormente. Gracias por participar.",s.classList.add("error","show"),r.setAttribute("disabled",!0),button.setAttribute("disabled",!0),button.innerHTML="Inscrito";break;case"invalid":document.querySelector("#msg").innerHTML="Revisa que el correo ingresado sea válido e intentalo de nuevo.",s.classList.add("warning","show"),button.innerHTML="Inscribirme"}}).catch(()=>{document.querySelector("#msg").innerHTML="Ha ocurrido un error registrando tu inscripción, por favor intentalo nuevamente.",s.classList.add("error","show"),button.innerHTML="Inscribirme"})):r.classList.add("error")});